;
; Neo-Geo header. Uses information provided through user defines.
;

#include "sai/neogeo/hw.h"
#include "sai/neogeo/reg.h"
#include "sai/neogeo/sysrom.h"

; ------------------------------------------------------------------------------
;
; These symbols must be defined and made global by the user.
;
; ------------------------------------------------------------------------------

;
; Header data.
;
	.extern	sai_neo_ngh_id         ; e.g. 0x315
	.extern	sai_neo_eyecatch_cfg   ; SAI_NEO_EYECATCH_*
	.extern	sai_neo_eyecatch_tile  ; Default is 0.
;
; Soft DIPs.
;
	.extern	sai_neo_sdips_jp
	.extern	sai_neo_sdips_us
	.extern	sai_neo_sdips_eu

;
; Entry points, handled by boot.a68
;
	.extern	sai_neo_entry_user_internal
	.extern	sai_neo_entry_player_start_internal
	.extern	sai_neo_entry_demo_end_internal
	.extern	sai_neo_entry_coin_sound_internal

	.section	.text.keepboot

; ------------------------------------------------------------------------------
;
; Neo-Geo header $100
;
; ------------------------------------------------------------------------------
	.asciz	"NEO-GEO"
	dc.w	sai_neo_ngh_id
	dc.l	$100000                 ; Rom size TODO: Use linker symbol
	dc.l	sai_neo_bram_data       ; Backup RAM address
	dc.w	sai_neo_bram_bytes      ; Backup RAM size
	dc.b	sai_neo_eyecatch_cfg    ; Eyecatcher mode
	dc.b	sai_neo_eyecatch_tile   ; Logo tile offset

; ------------------------------------------------------------------------------
;
; Soft DIP information (provided by main program)
;
; ------------------------------------------------------------------------------
	dc.l	sai_neo_sdips_jp
	dc.l	sai_neo_sdips_us
	dc.l	sai_neo_sdips_eu

; ------------------------------------------------------------------------------
;
; Entry points $122
;
; ------------------------------------------------------------------------------
j_sai_neo_entry_user:
	jmp	(sai_neo_entry_user_internal).l

j_sai_neo_entry_player_start:
	jmp	(sai_neo_entry_player_start_internal).l

j_sai_neo_entry_demo_end:
	jmp	(sai_neo_entry_demo_end_internal).l

j_sai_neo_entry_coin_sound:
	jmp	(sai_neo_entry_coin_sound_internal).l
